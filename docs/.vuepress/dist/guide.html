<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fejlesztői útmutató | LogB</title>
    <meta name="description" content="Az Arduino alapú moduláris mérőeszközök keretrendszere">
    <link rel="icon" href="/assets/img/favicon.ico">
  <link rel="manifest" href="/manifest.json">
    
    <link rel="preload" href="/assets/css/0.styles.459ceef1.css" as="style"><link rel="preload" href="/assets/js/app.b7b2feae.js" as="script"><link rel="preload" href="/assets/js/7.34858128.js" as="script"><link rel="preload" href="/assets/js/2.a50bb230.js" as="script"><link rel="prefetch" href="/assets/js/3.93015d50.js"><link rel="prefetch" href="/assets/js/4.d487fa67.js"><link rel="prefetch" href="/assets/js/5.08a7046f.js"><link rel="prefetch" href="/assets/js/6.e75e4898.js"><link rel="prefetch" href="/assets/js/8.14bcfab0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.459ceef1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">LogB</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide.html" class="nav-link router-link-exact-active router-link-active">Fejlesztői útmutató</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">további oldalak</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about.html" class="nav-link">A LogB, célja, állapota</a></li><li class="dropdown-item"><!----> <a href="/follow-us.html" class="nav-link">Kövessd a LogB-t!</a></li><li class="dropdown-item"><!----> <a href="/contact-us.html" class="nav-link">Kapcsolat</a></li><li class="dropdown-item"><!----> <a href="https://cloud.logb.hu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LogB Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/LogB" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide.html" class="nav-link router-link-exact-active router-link-active">Fejlesztői útmutató</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">további oldalak</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about.html" class="nav-link">A LogB, célja, állapota</a></li><li class="dropdown-item"><!----> <a href="/follow-us.html" class="nav-link">Kövessd a LogB-t!</a></li><li class="dropdown-item"><!----> <a href="/contact-us.html" class="nav-link">Kapcsolat</a></li><li class="dropdown-item"><!----> <a href="https://cloud.logb.hu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LogB Cloud
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/LogB" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Fejlesztői útmutató</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/guide.html#a-logb-arduino-s-keretrendszere" class="sidebar-link">A LogB Arduino-s keretrendszere</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide.html#a-meres-folyamata" class="sidebar-link">A Mérés folyamata</a></li><li class="sidebar-sub-header"><a href="/guide.html#nulladik-kor" class="sidebar-link">Nulladik kör</a></li><li class="sidebar-sub-header"><a href="/guide.html#elso-kor" class="sidebar-link">Első kör</a></li><li class="sidebar-sub-header"><a href="/guide.html#masodik-kor" class="sidebar-link">Második kör</a></li></ul></li><li><a href="/guide.html#logb-standard" class="sidebar-link">LogB standard</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide.html#bemenetek-szenzorok" class="sidebar-link">Bemenetek/szenzorok</a></li></ul></li><li><a href="/guide.html#esp8266-os-alaplapok-hasznalata" class="sidebar-link">ESP8266-os alaplapok használata</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="fejlesztoi-utmutato"><a href="#fejlesztoi-utmutato" aria-hidden="true" class="header-anchor">#</a> Fejlesztői útmutató</h1> <div class="warning custom-block"><p class="custom-block-title">Előzetes betekintés</p> <p>A fejlesztői útmutató, illetve maga a LogB is fejlesztés alatt áll, verziószám nélküli. A rendszer jelenleg nem használható kritikus feladatok ellátására.</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#a-logb-arduino-s-keretrendszere-badge-text-alpha-type-error">A LogB Arduino-s keretrendszere <span class="badge error top" data-v-79c83af0>alpha</span></a><ul><li><a href="#a-meres-folyamata">A Mérés folyamata</a></li><li><a href="#nulladik-kor">Nulladik kör</a></li><li><a href="#elso-kor">Első kör</a></li><li><a href="#masodik-kor">Második kör</a></li></ul></li><li><a href="#logb-standard-badge-text-alpha-type-error">LogB standard <span class="badge error top" data-v-79c83af0>alpha</span></a><ul><li><a href="#bemenetek-szenzorok">Bemenetek/szenzorok</a></li></ul></li><li><a href="#esp8266-os-alaplapok-hasznalata">ESP8266-os alaplapok használata</a></li></ul></div><p></p> <h2 id="a-logb-arduino-s-keretrendszere"><a href="#a-logb-arduino-s-keretrendszere" aria-hidden="true" class="header-anchor">#</a> A LogB Arduino-s keretrendszere <span class="badge error top" data-v-79c83af0>alpha</span></h2> <p>Jelenleg egy standardon dolgozunk, amivel meg lehet pontosan határozni a mérőeszközök felépítését.</p> <h3 id="a-meres-folyamata"><a href="#a-meres-folyamata" aria-hidden="true" class="header-anchor">#</a> A Mérés folyamata</h3> <p>A LogB mérési folyamata két 'körből' áll:</p> <ul><li>Az első egyszer fut le:
<ul><li>Beállítások</li> <li>Fejlécek</li></ul></li> <li>A második meghatározott időközönként, újra és újra lefut az első után.
<ul><li>Aktuális adatok bekérése, azok struktúrába rendezése</li> <li>Adatsor küldése</li></ul></li></ul> <div class="tip custom-block"><p class="custom-block-title">Arduinoval megfeleltetés</p> <p>Igen, az első kör a <code>setup()</code>-ban, a második pedig a <code>loop()</code>-ban fut le.</p></div> <h3 id="nulladik-kor"><a href="#nulladik-kor" aria-hidden="true" class="header-anchor">#</a> Nulladik kör</h3> <h4 id="fuggveny-konyvtarak-es-deklaraciok"><a href="#fuggveny-konyvtarak-es-deklaraciok" aria-hidden="true" class="header-anchor">#</a> Függvény könyvtárak és deklarációk</h4> <p>A kód elején szükséges bizonyos header fileokra hivatkozni:</p> <ol><li>LogB Arduino könyvtárat include-álni</li> <li>Használni kívánt szenzor könyvtárát
<ul><li>Amennyiben szükséges definiálni kell a szenzort.</li></ul></li> <li>A <code>set</code> globális változó deklarálása</li></ol> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;logb.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;Sodaq_SHT2x.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;BH1750.h&gt;</span></span>
Settings set<span class="token punctuation">;</span>
BH1750 lightMeter<span class="token punctuation">;</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">Fontos</p> <p>Amennyiben nincs az Arduino programhoz hozzáadva a szükséges könyvtár, akkor az <code>.ino</code> fájl mellé másolva is használhatjuk.
Ebben az esetben a kód így változik:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;logb.h&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;Sodaq_SHT2x.h&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;BH1750.h&quot;</span></span>
Settings set<span class="token punctuation">;</span>
BH1750 lightMeter<span class="token punctuation">;</span>
</code></pre></div></div> <h3 id="elso-kor"><a href="#elso-kor" aria-hidden="true" class="header-anchor">#</a> Első kör</h3> <h4 id="beallitasok-megadasa"><a href="#beallitasok-megadasa" aria-hidden="true" class="header-anchor">#</a> Beállítások megadása</h4> <p>Itt lehet meghatározni a LogB beállításait:</p> <ul><li>Eszköz
<ul><li>Nevét</li> <li>Jelszavát</li></ul></li> <li>Mentés helyét
<ul><li>a -&gt; Serial</li> <li>b -&gt; SD</li> <li>c -&gt; LogB Cloud</li> <li>...</li></ul></li> <li>A fájlban történő elválasztójelet</li> <li>Lehetőség van a tizedespont vesszőre történő cseréjére</li></ul> <div class="warning custom-block"><p class="custom-block-title">Fontos</p> <p>Az elválasztás jele (<code>set.seperate</code>) alapértelmezetten <code>;</code>. Ha nem szeretnénk megváltoztatni, akkor a <code>setup()</code>-ban nem kell beállítani.
A <code>set.toComma</code> alapértelmezett <code>false</code>, így ha magyar Excel miatt szükséges a vessző ezt <code>true</code>-ra kell állítani.</p></div> <p>A beállításokon kívül itt kell elindítani a szenzorokat és a kommunikációkat:
- Serial kommukáció setén -&gt; <code>Serial.begin()</code>
- I2C kommonikáció esetén -&gt; <code>Wire.begin()</code>
- <code>LogB Cloud</code> és <code>UnixTime()</code> esetén -&gt; <code>WiFi.begin()</code>
- Ezeken kívül pedig a kiválasztott szenzorok elindítasa szükséges</p> <div class="language-c extra-class"><pre class="language-c"><code>Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
Wire<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
WiFi<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token string">&quot;/* wifi SSID */&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/* wifi jelszava */&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> 
lightMeter<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//ezek a LogB Cloud használatához kellenek</span>
set<span class="token punctuation">.</span>device_id<span class="token operator">=</span><span class="token string">&quot;/* eszköz azonosítója */&quot;</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span>pin<span class="token operator">=</span><span class="token string">&quot;/* eszköz jelszava */&quot;</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span>where<span class="token operator">=</span><span class="token string">&quot;ac&quot;</span><span class="token punctuation">;</span> <span class="token comment">//= Serial &amp; LogB Cloud</span>
set<span class="token punctuation">.</span>seperate<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span>toComma<span class="token operator">=</span>true<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Serial kommunikáció</p> <p>Serial kommunikációra a <code>115200</code>-as sebességet ajánljuk.</p></div> <h4 id="warning-fejlecek-beallitasa"><a href="#warning-fejlecek-beallitasa" aria-hidden="true" class="header-anchor">#</a> <span class="icon" style="color: orange">warning</span> Fejlécek beállítása</h4> <ol><li>Lépésben létre kell hozni a mérés nevét a <code>CreateName()</code> segítségével.</li></ol> <ul><li>A mérés neve az eszköz nevéből és egy számból áll. Az azonosító számhoz javasoljuk az <code>UnixTime()</code> használatát.
<ul><li>A <code>UnixTime()</code> paramétere a GMT-től való eltérés. (Magyarország esetében télen 1, nyáron 2)</li></ul></li></ul> <div class="warning custom-block"><p class="custom-block-title">Fontos</p> <p>A <code>UnixTime()</code> használatához internet szükséges, ez jelenleg <code>ESP8266</code> wifi modul használatával lehetséges.</p></div> <ol><li><code>AddNewSensorData()</code> függvény segítségével megadjuk a fejléc nevét.</li></ol> <ul><li>Első paraméter a standard név
<ul><li>Második paraméter a fejléc neve</li></ul></li></ul> <ol><li>A <code>Send()</code> függvény segítségével kiküldjük a fejlécet az előre meghatározott kimenetre.</li></ol> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">CreateName</span><span class="token punctuation">(</span><span class="token function">UnixTime</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// GMT+1</span>
<span class="token function">AddNewHeaderParam</span><span class="token punctuation">(</span><span class="token string">&quot;SHT21-I2C-3V3-TEMP-C&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hőmérséklet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">AddNewHeaderParam</span><span class="token punctuation">(</span><span class="token string">&quot;SHT21-I2C-3V3-HUM-%&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Páratartalom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">AddNewHeaderParam</span><span class="token punctuation">(</span><span class="token string">&quot;BH1750-I2C-3V3-LIGHT-lx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fénymennyiség&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="masodik-kor"><a href="#masodik-kor" aria-hidden="true" class="header-anchor">#</a> Második kör</h3> <p>Ez a kör fut le újra és újra.
Itt történik a szenzorok értékeinek kiolvasása és az adatsorok kiírása.</p> <div class="tip custom-block"><p class="custom-block-title">A mérési időköz</p> <p>Valószínű, hogy határozott időközönként szeretnén új mérést végezni.
Ehhez ajánljuk az alábbi metódust:</p> <div class="language-c extra-class"><pre class="language-c"><code>set<span class="token punctuation">.</span>currentMillis <span class="token operator">=</span> <span class="token function">millis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>set<span class="token punctuation">.</span>currentMillis <span class="token operator">-</span> set<span class="token punctuation">.</span>previousMillis <span class="token operator">&gt;=</span> <span class="token number">42000</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//42 másodperc</span>
set<span class="token punctuation">.</span>previousMillis <span class="token operator">=</span> set<span class="token punctuation">.</span>currentMillis<span class="token punctuation">;</span>
<span class="token comment">/* A szenzorok értékeinek kiolvasása itt történik */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Ezzel meghatározhatjuk a mérések közötti minimum időtartamot.
Ha a megadott miliszekundumnyi időtartamnál tovább tart a mérés, azonal elkezdi a következőt.<br>
Ha még nem érte el, várakozik amíg eléri.</p></div> <ol><li><p>Be kell állítanunk az időt a <code>Time()</code> segítségével.</p> <ul><li>A függvény paramétere Unix idő. Ehhez a már fentebb említett <code>UnixTime()</code> függvényt is használhatjuk.</li></ul></li> <li><p>Az <code>AddNewSensorData()</code> függvény segítségével tároljuk a kiolvasott szenzor értékeket.</p> <ul><li>Első paraméternek a szensor standard nevét kell használni.</li> <li>Második paraméter pedig a szenzor kiolvasott értéke <code>String</code>-be konvertálva.</li></ul> <div class="tip custom-block"><p class="custom-block-title">Mentett szenzor érték változtatása</p> <p>Mentés előtt lehetőség van a kiolvasott érték megváltoztatására.</p></div></li> <li><p>Ha az összes szenzor értéket mentettük történhet az adatok elküldése a <code>Send()</code> segítségével.</p></li></ol> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">Time</span><span class="token punctuation">(</span><span class="token function">UnixTime</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">AddNewSensorData</span><span class="token punctuation">(</span><span class="token string">&quot;SHT21-I2C-3V3-TEMP-C&quot;</span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>SHT2x<span class="token punctuation">.</span><span class="token function">GetTemperature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">AddNewSensorData</span><span class="token punctuation">(</span><span class="token string">&quot;SHT21-I2C-3V3-HUM-%&quot;</span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>SHT2x<span class="token punctuation">.</span><span class="token function">GetHumidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">AddNewSensorData</span><span class="token punctuation">(</span><span class="token string">&quot;BH1750-I2C-3V3-LIGHT-lx&quot;</span><span class="token punctuation">,</span> <span class="token function">String</span><span class="token punctuation">(</span>lightMeter<span class="token punctuation">.</span><span class="token function">readLightLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="logb-standard"><a href="#logb-standard" aria-hidden="true" class="header-anchor">#</a> LogB standard <span class="badge error top" data-v-79c83af0>alpha</span></h2> <h3 id="bemenetek-szenzorok"><a href="#bemenetek-szenzorok" aria-hidden="true" class="header-anchor">#</a> Bemenetek/szenzorok</h3> <h4 id="mi-lehet-bemenet"><a href="#mi-lehet-bemenet" aria-hidden="true" class="header-anchor">#</a> Mi lehet bemenet?</h4> <p>Szinte bármi.<br>
Egy LogB kompatibilis bemenetnek szolgáltatnia kell minimum egy, az Arduino kódban meghívható függvényt, aminek visszatérő értéke <code>String</code>-ben tárolható.</p> <h4 id="szenzorok-konyvtarai"><a href="#szenzorok-konyvtarai" aria-hidden="true" class="header-anchor">#</a> Szenzorok könyvtárai</h4> <p>Arduino-s szenzorok könyvtárai egymáshoz hasonló adatformában adják ki most is az adatokat, nekünk viszont pontosan meg kell határozni, hogy milyen adat érkezhet a LogB-be, a modularitás megőrzése érdekében.</p> <h4 id="pontos-szenzor-definiciok"><a href="#pontos-szenzor-definiciok" aria-hidden="true" class="header-anchor">#</a> Pontos szenzor-definíciók</h4> <p>A szenzor összes (mérésnél illetve a hardver beépítésénél) fontos tulajdonságát meghatározzuk:</p> <ul><li>Név</li> <li>Feszültség</li> <li>Kapcsolódás
<ul><li>Típusa</li> <li>címe (opcionális)</li></ul></li> <li>Mérés
<ul><li>Mértékegység (opcionális)</li> <li>Változó típusa</li></ul></li></ul> <p>Egy példa:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SHT21&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;voltage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3v3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;connection&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;I2C&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x40&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;meas&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;temp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;unit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;float&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hum&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;unit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RH%&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;float&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">Fontos</p> <p>A mértékegységeket a szenzor könyvtára határozza meg. A nyers adatok módosítása máshol történik.</p></div> <div class="tip custom-block"><p class="custom-block-title">Több azonos szenzor</p> <p>Több azonos I2C című egységnél I2C multiplexer-re van szükség.</p></div> <h4 id="bemenet-nevek"><a href="#bemenet-nevek" aria-hidden="true" class="header-anchor">#</a> Bemenet nevek</h4> <p>Példa bemenet:</p> <ul><li>Modell: SHT21</li> <li>3.3 volton működik</li> <li>Csatlakozási módja
<ul><li>I2C</li> <li>0x40</li></ul></li> <li>Mért adata
<ul><li>Hőmérséklet</li></ul></li></ul> <p>Ennek a szenzornak a standard-beli neve: <code>SHT21-3V3-I2C-0X40-TEMP</code></p> <div class="tip custom-block"><p class="custom-block-title">Több érték egy egységből</p> <p>Több érték is kiolvasható egy egységből körönként. Minden kiolvasott adat más más szabványnévvel szerepel a LogB-ben:<br> <code>SHT21-3V3-I2C-0X40-TEMP</code><br> <code>SHT21-3V3-I2C-0X40-HUM</code></p></div> <div class="warning custom-block"><p class="custom-block-title">Azonos adat, azonos körben töbször:</p> <p>Egy körben nem kellene többször kikérni ugyan azt az adatot, bár elméletben lehetséges.</p></div> <h2 id="esp8266-os-alaplapok-hasznalata"><a href="#esp8266-os-alaplapok-hasznalata" aria-hidden="true" class="header-anchor">#</a> ESP8266-os alaplapok használata</h2> <ol><li>Az további Alaplap-kezelő URL megadása.
<ul><li>Arduino program megnyitás</li> <li>Fájl</li> <li>Beállítások <code>CTRL + ,</code></li> <li>További Alaplap-kezelő URL-ek: <span class="select_all"><code>http://arduino.esp8266.com/stable/package_esp8266com_index.json</code></span></li></ul></li> <li>Alaplap letöltése és telepítése
<ul><li>Eszközök</li> <li>Alaplap</li> <li>Alaplap-kezelő</li> <li>A kereső sávba beírjuk: <code>ESP8266</code></li> <li>Telepítés</li></ul></li> <li>Ugyanúgy használhatjuk az alaplapot, mint bármely másik Arduino alaplapot.</li></ol> <div class="tip custom-block"><p class="custom-block-title">Alaplap frissítése</p> <p>Pár havonta ajánlott az Alaplap-kezelőben elvégezni a frissítést, így a legújabb <code>ESP8266</code>-al rendelkező mikrokontrollereket is használhatjuk.</p></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/LogB/logb.hu/edit/master/docs/guide.md" target="_blank" rel="noopener noreferrer">Módosítsd ezt az oldalt a GitHub-on</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Frissítve: </span> <span class="time">3/10/2019, 4:28:19 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.b7b2feae.js" defer></script><script src="/assets/js/7.34858128.js" defer></script><script src="/assets/js/2.a50bb230.js" defer></script>
  </body>
</html>
